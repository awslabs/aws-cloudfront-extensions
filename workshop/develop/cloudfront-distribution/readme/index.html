<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.79.1"><meta name=description content><link rel="shortcut icon" href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/favicon.ico type=image/x-icon><title>Create a CloudFront Distribution :: CloudFront Extensions</title><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/nucleus.css?1645492435 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/fontawesome-all.min.css?1645492435 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/hybrid.css?1645492435 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/featherlight.min.css?1645492435 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/perfect-scrollbar.min.css?1645492435 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/auto-complete.css?1645492435 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/atom-one-dark-reasonable.css?1645492435 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/theme.css?1645492435 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/hugo-theme.css?1645492435 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/theme-cloudfrontext.css?1645492435 rel=stylesheet><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/jquery-3.3.1.min.js?1645492435></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=https://awslabs.github.io/aws-cloudfront-extensions/workshop/develop/cloudfront-distribution/readme/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/><img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/logo.png alt="AWS Logo" width=44% height=44%></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/lunr.min.js?1645492435></script><script type=text/javascript src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/auto-complete.js?1645492435></script><script type=text/javascript>var baseurl="https:\/\/awslabs.github.io\/aws-cloudfront-extensions\/workshop\/";</script><script type=text/javascript src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/search.js?1645492435></script></div><div class=highlightable><ul class=topics><li data-nav-id=/prerequisite/ title=Prerequisite class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/prerequisite/>Prerequisite</a><ul><li data-nav-id=/prerequisite/aws-cloudshell/readme/ title="AWS CloudShell" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/prerequisite/aws-cloudshell/readme/>AWS CloudShell</a></li><li data-nav-id=/prerequisite/aws-cdk/readme/ title="AWS CDK" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/prerequisite/aws-cdk/readme/>AWS CDK</a></li><li data-nav-id=/prerequisite/aws-config/readme/ title="Configure your credentials" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/prerequisite/aws-config/readme/>Configure your credentials</a></li></ul></li><li data-nav-id=/deploy/ title="Deploy with CloudFront Extensions" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/deploy/>Deploy with CloudFront Extensions</a><ul><li data-nav-id=/deploy/deploy-auth/readme/ title="Deploy a Lambda@Edge function to authenticate with Cognito" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/deploy/deploy-auth/readme/>Deploy a Lambda@Edge function to authenticate with Cognito</a></li><li data-nav-id=/deploy/deploy-device/readme/ title="Deploy a Lambda@Edge function to serve based on devices" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/deploy/deploy-device/readme/>Deploy a Lambda@Edge function to serve based on devices</a></li></ul></li><li data-nav-id=/develop/ title="Develop with CloudFront Extensions" class="dd-item
parent"><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/develop/>Develop with CloudFront Extensions</a><ul><li data-nav-id=/develop/cloudfront-distribution/readme/ title="Create a CloudFront Distribution" class="dd-item active"><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/develop/cloudfront-distribution/readme/>Create a CloudFront Distribution</a></li><li data-nav-id=/develop/download-code/readme/ title="Upload CloudFront Extensions code into CloudShell" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/develop/download-code/readme/>Upload CloudFront Extensions code into CloudShell</a></li><li data-nav-id=/develop/code-structure/readme/ title="Understand CloudFront Extensions code structure" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/develop/code-structure/readme/>Understand CloudFront Extensions code structure</a></li><li data-nav-id=/develop/edge-function/readme/ title="Create a Lambda@Edge function" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/develop/edge-function/readme/>Create a Lambda@Edge function</a></li><li data-nav-id=/develop/test-function/readme/ title="Test the Lambda@Edge function" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/develop/test-function/readme/>Test the Lambda@Edge function</a></li><li data-nav-id=/develop/trigger-function/readme/ title="Trigger from CloudFront" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/develop/trigger-function/readme/>Trigger from CloudFront</a></li></ul></li><li data-nav-id=/security/ title="WAF & Shield Deployment" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/security/>WAF & Shield Deployment</a><ul><li data-nav-id=/security/guide/readme/ title=Deployment class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/security/guide/readme/>Deployment</a></li></ul></li><li data-nav-id=/security-practice/ title="WAF & Shield Best Practice" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/security-practice/>WAF & Shield Best Practice</a><ul><li data-nav-id=/security-practice/juice-shop/readme/ title="Deploy OWASP Juice Shop" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/security-practice/juice-shop/readme/>Deploy OWASP Juice Shop</a></li><li data-nav-id=/security-practice/deploy/readme/ title="Deploy WAF & Shield Automations" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/security-practice/deploy/readme/>Deploy WAF & Shield Automations</a></li><li data-nav-id=/security-practice/rule-testing/readme/ title="Web ACLs and Managed Rules" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/security-practice/rule-testing/readme/>Web ACLs and Managed Rules</a></li><li data-nav-id=/security-practice/flood-testing/readme/ title="Prevent DDoS attacks" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/security-practice/flood-testing/readme/>Prevent DDoS attacks</a></li></ul></li><li data-nav-id=/contribution/ title=Contribution class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/contribution/>Contribution</a><ul><li data-nav-id=/contribution/pr/readme/ title="Contributing via pull requests" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/contribution/pr/readme/>Contributing via pull requests</a></li><li data-nav-id=/contribution/bug-report/readme/ title="Reporting issues" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/contribution/bug-report/readme/>Reporting issues</a></li></ul></li><li data-nav-id=/cleanup/ title=Cleanup class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/cleanup/>Cleanup</a><ul><li data-nav-id=/cleanup/s3-bucket/readme/ title="S3 bucket" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/cleanup/s3-bucket/readme/>S3 bucket</a></li><li data-nav-id=/cleanup/cognito-user-pool/readme/ title="Cognito User Pool" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/cleanup/cognito-user-pool/readme/>Cognito User Pool</a></li><li data-nav-id=/cleanup/cf-distribution/readme/ title="CloudFront distribution" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/cleanup/cf-distribution/readme/>CloudFront distribution</a></li><li data-nav-id=/cleanup/cloudformation/readme/ title=CloudFormation class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/cleanup/cloudformation/readme/>CloudFormation</a></li><li data-nav-id=/cleanup/cloudshell/readme/ title=CloudShell class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/cleanup/cloudshell/readme/>CloudShell</a></li><li data-nav-id=/cleanup/waf/readme/ title="WAF & Shield Automations" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/cleanup/waf/readme/>WAF & Shield Automations</a></li></ul></li><li data-nav-id=/reference/ title="Reference & Resources" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/reference/>Reference & Resources</a></li></ul><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value;">
<option id=en value=https://awslabs.github.io/aws-cloudfront-extensions/workshop/develop/cloudfront-distribution/readme/ selected>English</option></select><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li></ul></section><section id=footer><left><a class=github-button href=https://github.com/awslabs/aws-cloudfront-extensions data-icon=octicon-cloud-download aria-label="Repo of awslabs/aws-cloudfront-extension on GitHub">Repo</a>
<a class=github-button href=https://github.com/awslabs/aws-cloudfront-extensions data-icon=octicon-star data-show-count=false aria-label="Star awslabs/aws-cloudfront-extension on GitHub">Star</a>
<a class=github-button href=https://github.com/awslabs/aws-cloudfront-extensions/fork data-icon=octicon-repo-forked data-show-count=false aria-label="Fork awslabs/aws-cloudfront-extension on GitHub">Fork</a><p><a href="https://aws.amazon.com/privacy/?nc1=f_pr">Privacy</a> | <a href="https://aws.amazon.com/terms/?nc1=f_pr">Site Terms</a> | © 2021, Amazon Web Services, Inc. or its affiliates. All rights reserved</p></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/>CloudFront Extensions workshop</a> > <a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/develop/>Develop with CloudFront Extensions</a> > Create a CloudFront Distribution</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#create-an-s3-bucket>Create an S3 bucket</a></li><li><a href=#upload-your-content-to-amazon-s3>Upload your content to Amazon S3</a></li><li><a href=#create-a-cloudfront-distribution-and-add-your-s3-bucket-as-an-origin>Create a CloudFront distribution and add your S3 bucket as an origin</a></li><li><a href=#configuration-on-the-cloudfront-distribution-to-disable-cache>Configuration on the CloudFront distribution to disable cache</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Create a CloudFront Distribution</h1><p>Before you create the example Lambda@Edge function, you need to have a CloudFront environment to work with that includes an origin to serve content from. If you already have an environment to use, you can skip this step.</p><p>To create a CloudFront distribution with an Amazon S3 origin, you will do the following steps</p><h2 id=create-an-s3-bucket>Create an S3 bucket</h2><ol><li>Sign in to the AWS Management Console and open the Amazon S3 console at <a href=https://console.aws.amazon.com/s3/>https://console.aws.amazon.com/s3/</a>.</li><li>On the Amazon S3 console, click <strong>Create bucket</strong></li><li>In the Create bucket dialog box, enter a unique bucket name and choose <strong>US East (N. Virginia)</strong> Region
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/S3-bucket-name.png alt="S3 Bucket Name"></li><li>Clear <strong>Block all public access</strong> check box to allow public access
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/S3-public.png alt="S3 Public Access"><div class="notices note"><p>You need to allow public read access to the bucket and files so that CloudFront URLs can serve content from the bucket. However, you can restrict access to specific content by using signed URLs or signed cookies</p></div></li><li>Leave other options as default and click <strong>Create bucket</strong></li></ol><h2 id=upload-your-content-to-amazon-s3>Upload your content to Amazon S3</h2><ol><li>In the Buckets pane, choose the bucket you just created, and then choose <strong>Upload</strong></li><li>Choose <strong>Add files</strong>, and choose a file that you want to upload, then click <strong>Upload</strong></li><li>Choose <strong>Make public</strong> to allow public read access
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/S3-public-file.png alt="S3 Public Access on File"></li></ol><h2 id=create-a-cloudfront-distribution-and-add-your-s3-bucket-as-an-origin>Create a CloudFront distribution and add your S3 bucket as an origin</h2><ol><li><p>Open the CloudFront console at <a href=https://console.aws.amazon.com/cloudfront/>https://console.aws.amazon.com/cloudfront/</a></p></li><li><p>Choose <strong>Create Distribution</strong></p></li><li><p>On the Select a delivery method for your content page, in the <strong>Web</strong> section, choose Get Started
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/cf-web.png alt="CloudFront Web"></p></li><li><p>On the Create Distribution page, for Origin Domain Name, choose the Amazon S3 bucket that you created earlier. For the other settings under Origin Settings, accept the default values. Choose <strong>Create Distribution</strong>
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/cf-origin-domain.png alt="Origin Domain"></p></li><li><p>After CloudFront creates your distribution, the value of the Status column for your distribution changes from In Progress to Deployed. This typically takes a few minutes
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/cf-deployed.png alt="CloudFront Deployed"></p></li><li><p>To test your link, open your link in a browser</p><p>The link is in this format: https://&lt;domain name>/&lt;object name><div class="notices note"><p>For example, if the domain name is d1v2jstg89nnob.cloudfront.net, the object name is CloudFrontIcon.png, the link will be <a href=https://d1v2jstg89nnob.cloudfront.net/CloudFrontIcon.png>https://d1v2jstg89nnob.cloudfront.net/CloudFrontIcon.png</a></p></div></p></li></ol><h2 id=configuration-on-the-cloudfront-distribution-to-disable-cache>Configuration on the CloudFront distribution to disable cache</h2><ol><li><p>Open the <a href=https://console.aws.amazon.com/cloudfront/home#>CloudFront console</a></p></li><li><p>Choose the distribution that is created in above step</p></li><li><p>Choose <strong>Behaviors</strong> tab and edit the default cache behavior</p></li><li><p>Do below configuration</p><ul><li><p>For <strong>Object Caching</strong>, choose <strong>Customize</strong></p><p>For Minimum TTL, enter 0</p><p>For Maximum TTL, enter 0</p><p>For Default TTL, enter 0</p><blockquote><p>This is to disable cache in CloudFront, it will make sure that every request will be reach origin and miss from CloudFront</p></blockquote></li><li><p>Choose <strong>Yes, Edit</strong> to save the changes</p></li></ul><p><img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/cf-config-develop-cache.png alt="Develop lambda config"></p></li></ol><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/develop/ title="Develop with CloudFront Extensions"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/develop/download-code/readme/ title="Upload CloudFront Extensions code into CloudShell" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/clipboard.min.js?1645492435></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/perfect-scrollbar.min.js?1645492435></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/perfect-scrollbar.jquery.min.js?1645492435></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/jquery.sticky.js?1645492435></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/featherlight.min.js?1645492435></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/highlight.pack.js?1645492435></script><script>hljs.initHighlightingOnLoad();</script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/modernizr.custom-3.6.0.js?1645492435></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/learn.js?1645492435></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/hugo-learn.js?1645492435></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/mermaid/mermaid.js?1645492435></script><script>mermaid.initialize({startOnLoad:true});</script></body></html>