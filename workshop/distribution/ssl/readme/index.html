<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.79.1"><meta name=description content><link rel="shortcut icon" href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/favicon.ico type=image/x-icon><title>Create SSL certificate :: CloudFront Extensions</title><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/nucleus.css?1666677704 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/fontawesome-all.min.css?1666677704 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/hybrid.css?1666677704 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/featherlight.min.css?1666677704 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/perfect-scrollbar.min.css?1666677704 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/auto-complete.css?1666677704 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/atom-one-dark-reasonable.css?1666677704 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/theme.css?1666677704 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/hugo-theme.css?1666677704 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/theme-cloudfrontext.css?1666677704 rel=stylesheet><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/jquery-3.3.1.min.js?1666677704></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/ssl/readme/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/><img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/logo.png alt="AWS Logo" width=44% height=44%></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/lunr.min.js?1666677704></script><script type=text/javascript src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/auto-complete.js?1666677704></script><script type=text/javascript>var baseurl="https:\/\/awslabs.github.io\/aws-cloudfront-extensions\/workshop\/";</script><script type=text/javascript src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/search.js?1666677704></script></div><div class=highlightable><ul class=topics><li data-nav-id=/prerequisite/ title=Prerequisite class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/prerequisite/>Prerequisite</a><ul><li data-nav-id=/prerequisite/sample-website/readme/ title="Deploy Sample Website" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/prerequisite/sample-website/readme/>Deploy Sample Website</a></li><li data-nav-id=/prerequisite/sample-check/readme/ title="Check Stack Output" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/prerequisite/sample-check/readme/>Check Stack Output</a></li><li data-nav-id=/prerequisite/setup-athena/readme/ title="Specify a query result location for Athena" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/prerequisite/setup-athena/readme/>Specify a query result location for Athena</a></li></ul></li><li data-nav-id=/deploy/ title="Deploy CloudFront Extensions" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/deploy/>Deploy CloudFront Extensions</a><ul><li data-nav-id=/deploy/deploy-console/readme/ title="Deploy CloudFront Extensions Console" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/deploy/deploy-console/readme/>Deploy CloudFront Extensions Console</a></li><li data-nav-id=/deploy/setup-monitoring/readme/ title="Setup monitoring" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/deploy/setup-monitoring/readme/>Setup monitoring</a></li><li data-nav-id=/deploy/setup-ssl/readme/ title="Setup SSL notification" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/deploy/setup-ssl/readme/>Setup SSL notification</a></li></ul></li><li data-nav-id=/repo/ title="Extensions Repo" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/repo/>Extensions Repo</a><ul><li data-nav-id=/repo/deploy-device-ext/readme/ title="Deploy an extension in CloudFront Extensions console" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/repo/deploy-device-ext/readme/>Deploy an extension in CloudFront Extensions console</a></li><li data-nav-id=/repo/check-device-ext/readme/ title="Check the function on sample website" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/repo/check-device-ext/readme/>Check the function on sample website</a></li></ul></li><li data-nav-id=/distribution/ title="Distribution management" class="dd-item
parent"><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/>Distribution management</a><ul><li data-nav-id=/distribution/create-snapshot/readme/ title="Create Snapshot" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/create-snapshot/readme/>Create Snapshot</a></li><li data-nav-id=/distribution/ssl/readme/ title="Create SSL certificate" class="dd-item active"><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/ssl/readme/>Create SSL certificate</a></li><li data-nav-id=/distribution/apply-snapshot/readme/ title="Apply Snapshot to modify configuration" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/apply-snapshot/readme/>Apply Snapshot to modify configuration</a></li></ul></li><li data-nav-id=/monitoring/ title=Monitoring class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/monitoring/>Monitoring</a><ul><li data-nav-id=/monitoring/view-dashboard/readme/ title="View CloudFront metrics in dashboard" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/monitoring/view-dashboard/readme/>View CloudFront metrics in dashboard</a></li></ul></li><li data-nav-id=/cleanup/ title=Cleanup class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/cleanup/>Cleanup</a></li><li data-nav-id=/contribution/ title=Contribution class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/contribution/>Contribution</a><ul><li data-nav-id=/contribution/pr/readme/ title="Contributing via pull requests" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/contribution/pr/readme/>Contributing via pull requests</a></li><li data-nav-id=/contribution/bug-report/readme/ title="Reporting issues" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/contribution/bug-report/readme/>Reporting issues</a></li></ul></li><li data-nav-id=/reference/ title="Reference & Resources" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/reference/>Reference & Resources</a></li></ul><section id=footer><left><a class=github-button href=https://github.com/awslabs/aws-cloudfront-extensions data-icon=octicon-cloud-download aria-label="Repo of awslabs/aws-cloudfront-extension on GitHub">Repo</a>
<a class=github-button href=https://github.com/awslabs/aws-cloudfront-extensions data-icon=octicon-star data-show-count=false aria-label="Star awslabs/aws-cloudfront-extension on GitHub">Star</a>
<a class=github-button href=https://github.com/awslabs/aws-cloudfront-extensions/fork data-icon=octicon-repo-forked data-show-count=false aria-label="Fork awslabs/aws-cloudfront-extension on GitHub">Fork</a><p><a href="https://aws.amazon.com/privacy/?nc1=f_pr">Privacy</a> | <a href="https://aws.amazon.com/terms/?nc1=f_pr">Site Terms</a> | Â© 2022, Amazon Web Services, Inc. or its affiliates. All rights reserved</p></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/>CloudFront Extensions workshop</a> > <a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/>Distribution management</a> > Create SSL certificate</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#associate-ssl-certificate-to-cloudfront>Associate SSL certificate to CloudFront</a></li><li><a href=#workflow>Workflow</a></li><li><a href=#summary>Summary</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Create SSL certificate</h1><p>The sample website can be accessed by inputing xxx.cloudfront.net in the browser currently. It is not an user-friendly name and you would like to give the website a meaningful name such as <a href=http://www.amazon.com>www.amazon.com</a>. In this section, you will associate a domain name with the sample website. After association, you can access the sample website by the domain name.</p><p>You can use CloudFront Extensions to automatically create or import SSL Certificates and associate them to new CloudFront distributions. The solution provides two kinds of jobs: Create Certificates Job and Import Certificate Job. You can use then on web console or via API calls.</p><p>Follow below steps to create a SSL certificate:</p><ol><li><p>Navigate to CloudFront Extensions console (you can find the link in the <strong>Outputs</strong> tab of <strong>cloudFrontExtensionsConsole</strong> stack).</p></li><li><p>In the navigation panel, under <strong>Distribution management</strong>, choose <strong>Certificates</strong>.</p></li><li><p>Choose <strong>Create New Certificate</strong>.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/create_new_ssl.png alt="Create New SSL"></p></li><li><p>Choose <strong>Get Started</strong>.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/get_started_ssl.png alt="Create New SSL"></p></li><li><p>Enter a domain name for the certificate.</p></li><li><p>Choose <strong>Do not create distributions</strong> since you already have a distribution for sample website.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/enter_domain_name.png alt="Enter Domain Name"></p></li><li><p>Click <strong>Start job</strong>.</p></li><li><p>Verify the generated input parameters, enter <strong>confirm</strong> in the input box and click <strong>Apply</strong> button.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/confirm_create_ssl.png alt="Confirm Apply"></p></li><li><p>The certificate is in <strong>PENDING_VALIDATION</strong> status.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/pending_ssl.png alt="Pending Validation"></p></li><li><p>Wait about one minute, you will receive an email with CName value.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/sns_confirm.png alt="Pending Validation"></p></li><li><p>Go to your DNS service and add a new record with the value in the email, eg. if your domain name in step 5 is registered in Route 53, then go to Route 53 console, if your domain name is registered in GoDaddy, then go to GoDaddy console. In this example, the domain name is created in Route 53.</p></li><li><p>(Skip step 12~17 if your domain name is not created in Route 53) Sign in to the AWS Management Console and access the <a href=https://console.aws.amazon.com/route53/>Route 53 console</a>.</p></li><li><p>In the navigation pane, choose <strong>Hosted zones</strong>.</p></li><li><p>On the <strong>Hosted zones</strong> page, choose the name of the hosted zone that you want to create records in.</p></li><li><p>Choose <strong>Create record</strong>.</p></li><li><p>Choose type as <strong>CNAME</strong>, enter the name and value in the email.</p></li><li><p>Choose <strong>Create record</strong>.</p></li><li><p>Wait about 3 minutes, go to CloudFront Extensions console and click refresh button in Certificate List page. You will the certificate status update to <strong>ISSUED</strong>.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/ssl_issued.png alt="SSL Issued"></p></li></ol><p>Now the SSL certicate is created and issued, we will associate the SSL certificate to sample website.</p><h2 id=associate-ssl-certificate-to-cloudfront>Associate SSL certificate to CloudFront</h2><ol><li><p>Go to <a href="https://us-east-1.console.aws.amazon.com/cloudfront/v3/home?region=us-east-1#/distributions">CloudFront console</a>.</p></li><li><p>Choose the distribution created in <strong>CFExtSampleWorkshop</strong> stack (you can find the distribution id in the Outputs tab).</p></li><li><p>In <strong>General</strong> tab, under <strong>Settings</strong>, click <strong>Edit</strong> button.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/cf_edit.png alt="Console Stacks"></p></li><li><p>Under <strong>Alternate domain name (CNAME)</strong>, click <strong>Add item</strong> and type in your domain name.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/add_cname.png alt="Add CName"></p></li><li><p>Under <strong>Custom SSL certificate</strong>, choose the ACM certificate created by CloudFront Extensions.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/add_acm.png alt="Add SSL"></p></li><li><p>Choose <strong>Save changes</strong>.</p></li><li><p>Wait until the distribution <strong>Last modified</strong> field changed from <strong>Deploying</strong> to a specific date time.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/last_modify_2.png alt="Console Stacks"></p></li><li><p>The domain name is associated with the sample website, access the sample website by the domain name. eg. <a href=https://cfe-workshop.demo.solutions.aws.a2z.org.cn/index.html>https://cfe-workshop.demo.solutions.aws.a2z.org.cn/index.html</a>. Users can access your website by the domain name other than CloudFront domain name (xxx.cloudfront.net).
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/new_cname.png alt="New CName"></p></li></ol><h2 id=workflow>Workflow</h2><p>When you start a Create Certificates Job, the solution starts a workflow in AWS Step Functions that does the following:</p><ol><li><p>Create certificates in ACM: The solution will automatically create all ACM based on input. After all SSL Certificates were created, the solution will automatically sent SNS message to the designated email address (depending on subscription). After this step, the domain owners are expected to complete DNS validation process.</p></li><li><p>Check certificates status in ACM: The solution checks the progress of DNS validation status every 5 minutes. The DNS validation is a manual process, also known as Domain Control Validation. Domain owner needs to manually add a CNAME record for your domain name on the website of your DNS providers. ACM will check the DNS validation status every few minutes. Once done, ACM will issue certificates.</p></li><li><p>Create new CloudFront distributions: Once all certificates were issued by ACM, the solution will automatically create CloudFront distributions. After all distributions were created, the solution will send an SNS message to the designated email address. After this step, the domain owners are expected to add new CloudFront distribution to map to CNAME.</p></li></ol><p><img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/certificate-workflow.png alt=certificate-workflow></p><h2 id=summary>Summary</h2><p>In this section, you created a SSL certificate on CloudFront Extensions console and associate it with the sample workshop, to implement the third requirement (R3 in below table).</p><table><thead><tr><th>ID</th><th>Description</th><th>Category</th><th>Status</th></tr></thead><tbody><tr><td>R1</td><td>It shows different web pages according to the user&rsquo;s browser type, for example, it redirects to page A when the user access it in PC browser, it redirects to page B when the user access it in Android browser, it redirects to page C when the user access it in iPhone browser.</td><td>Functional requirement</td><td>Completed</td></tr><tr><td>R2</td><td>The configuration of CloudFront distribution need to be saved, so that it can rollback if it has issues in production environment.</td><td>Non-functional requirement</td><td>Completed</td></tr><tr><td>R3</td><td>The website needs to have a CName (alternative domain name such as <a href=http://www.amazon.com>www.amazon.com</a>) instead of xxx.cloudfront.net.</td><td>Functional requirement</td><td>Completed</td></tr><tr><td>R4</td><td>After the website is launched, you need to monitor the metrics such as request number, back-to-origin bandwidth, top url.</td><td>Non-functional requirement</td><td></td></tr></tbody></table><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/create-snapshot/readme/ title="Create Snapshot"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/apply-snapshot/readme/ title="Apply Snapshot to modify configuration" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/clipboard.min.js?1666677704></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/perfect-scrollbar.min.js?1666677704></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/perfect-scrollbar.jquery.min.js?1666677704></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/jquery.sticky.js?1666677704></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/featherlight.min.js?1666677704></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/highlight.pack.js?1666677704></script><script>hljs.initHighlightingOnLoad();</script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/modernizr.custom-3.6.0.js?1666677704></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/learn.js?1666677704></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/hugo-learn.js?1666677704></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/mermaid/mermaid.js?1666677704></script><script>mermaid.initialize({startOnLoad:true});</script></body></html>