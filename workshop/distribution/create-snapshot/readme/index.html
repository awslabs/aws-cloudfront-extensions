<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.79.1"><meta name=description content><link rel="shortcut icon" href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/favicon.ico type=image/x-icon><title>Create Snapshot :: CloudFront Extensions</title><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/nucleus.css?1681882593 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/fontawesome-all.min.css?1681882593 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/hybrid.css?1681882593 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/featherlight.min.css?1681882593 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/perfect-scrollbar.min.css?1681882593 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/auto-complete.css?1681882593 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/atom-one-dark-reasonable.css?1681882593 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/theme.css?1681882593 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/hugo-theme.css?1681882593 rel=stylesheet><link href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/css/theme-cloudfrontext.css?1681882593 rel=stylesheet><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/jquery-3.3.1.min.js?1681882593></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/create-snapshot/readme/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/><img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/logo.png alt="AWS Logo" width=44% height=44%></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/lunr.min.js?1681882593></script><script type=text/javascript src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/auto-complete.js?1681882593></script><script type=text/javascript>var baseurl="https:\/\/awslabs.github.io\/aws-cloudfront-extensions\/workshop\/";</script><script type=text/javascript src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/search.js?1681882593></script></div><div class=highlightable><ul class=topics><li data-nav-id=/prerequisite/ title=Prerequisite class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/prerequisite/>Prerequisite</a><ul><li data-nav-id=/prerequisite/sample-website/readme/ title="Deploy Sample Website" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/prerequisite/sample-website/readme/>Deploy Sample Website</a></li><li data-nav-id=/prerequisite/sample-check/readme/ title="Check Stack Output" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/prerequisite/sample-check/readme/>Check Stack Output</a></li><li data-nav-id=/prerequisite/setup-athena/readme/ title="Specify a query result location for Athena" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/prerequisite/setup-athena/readme/>Specify a query result location for Athena</a></li></ul></li><li data-nav-id=/deploy/ title="Deploy CloudFront Extensions" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/deploy/>Deploy CloudFront Extensions</a><ul><li data-nav-id=/deploy/deploy-console/readme/ title="Deploy CloudFront Extensions Console" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/deploy/deploy-console/readme/>Deploy CloudFront Extensions Console</a></li><li data-nav-id=/deploy/setup-monitoring/readme/ title="Setup monitoring" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/deploy/setup-monitoring/readme/>Setup monitoring</a></li><li data-nav-id=/deploy/setup-ssl/readme/ title="Setup SSL notification" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/deploy/setup-ssl/readme/>Setup SSL notification</a></li></ul></li><li data-nav-id=/repo/ title="Extensions Repo" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/repo/>Extensions Repo</a><ul><li data-nav-id=/repo/deploy-device-ext/readme/ title="Deploy an extension in CloudFront Extensions console" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/repo/deploy-device-ext/readme/>Deploy an extension in CloudFront Extensions console</a></li><li data-nav-id=/repo/check-device-ext/readme/ title="Check the function on sample website" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/repo/check-device-ext/readme/>Check the function on sample website</a></li></ul></li><li data-nav-id=/distribution/ title="Distribution management" class="dd-item
parent"><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/>Distribution management</a><ul><li data-nav-id=/distribution/create-snapshot/readme/ title="Create Snapshot" class="dd-item active"><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/create-snapshot/readme/>Create Snapshot</a></li><li data-nav-id=/distribution/ssl/readme/ title="Create SSL certificate" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/ssl/readme/>Create SSL certificate</a></li><li data-nav-id=/distribution/apply-snapshot/readme/ title="Apply Snapshot to modify configuration" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/apply-snapshot/readme/>Apply Snapshot to modify configuration</a></li></ul></li><li data-nav-id=/monitoring/ title=Monitoring class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/monitoring/>Monitoring</a><ul><li data-nav-id=/monitoring/view-dashboard/readme/ title="View CloudFront metrics in dashboard" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/monitoring/view-dashboard/readme/>View CloudFront metrics in dashboard</a></li></ul></li><li data-nav-id=/cleanup/ title=Cleanup class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/cleanup/>Cleanup</a></li><li data-nav-id=/contribution/ title=Contribution class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/contribution/>Contribution</a><ul><li data-nav-id=/contribution/pr/readme/ title="Contributing via pull requests" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/contribution/pr/readme/>Contributing via pull requests</a></li><li data-nav-id=/contribution/bug-report/readme/ title="Reporting issues" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/contribution/bug-report/readme/>Reporting issues</a></li></ul></li><li data-nav-id=/reference/ title="Reference & Resources" class=dd-item><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/reference/>Reference & Resources</a></li></ul><section id=footer><left><a class=github-button href=https://github.com/awslabs/aws-cloudfront-extensions data-icon=octicon-cloud-download aria-label="Repo of awslabs/aws-cloudfront-extension on GitHub">Repo</a>
<a class=github-button href=https://github.com/awslabs/aws-cloudfront-extensions data-icon=octicon-star data-show-count=false aria-label="Star awslabs/aws-cloudfront-extension on GitHub">Star</a>
<a class=github-button href=https://github.com/awslabs/aws-cloudfront-extensions/fork data-icon=octicon-repo-forked data-show-count=false aria-label="Fork awslabs/aws-cloudfront-extension on GitHub">Fork</a><p><a href="https://aws.amazon.com/privacy/?nc1=f_pr">Privacy</a> | <a href="https://aws.amazon.com/terms/?nc1=f_pr">Site Terms</a> | Â© 2022, Amazon Web Services, Inc. or its affiliates. All rights reserved</p></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/>CloudFront Extensions workshop</a> > <a href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/>Distribution management</a> > Create Snapshot</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#create-a-snapshot>Create a snapshot</a></li><li><a href=#summary>Summary</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Create Snapshot</h1><p>So far, R1 has been completed, we will work on R2 in this section. We need to save the configuration of specific CloudFront distributions, so that it can rollback the configuration or apply the configuration to other CloudFront distributions.</p><table><thead><tr><th>ID</th><th>Description</th><th>Category</th><th>Status</th></tr></thead><tbody><tr><td>R1</td><td>It shows different web pages according to the user&rsquo;s browser type, for example, it redirects to page A when the user access it in PC browser, it redirects to page B when the user access it in Android browser, it redirects to page C when the user access it in iPhone browser.</td><td>Functional requirement</td><td>Completed</td></tr><tr><td><strong>R2</strong></td><td><strong>The configuration of CloudFront distribution need to be saved, so that it can rollback if it has issues in production environment.</strong></td><td><strong>Non-functional requirement</strong></td><td></td></tr><tr><td>R3</td><td>The website needs to have a CName (alternative domain name such as <a href=http://www.amazon.com>www.amazon.com</a>) instead of xxx.cloudfront.net.</td><td>Functional requirement</td><td></td></tr><tr><td>R4</td><td>After the website is launched, you need to monitor the metrics such as request number, back-to-origin bandwidth, top url.</td><td>Non-functional requirement</td><td></td></tr></tbody></table><p>CloudFront Extensions helps you manage CloudFront distribution configuration by creating a snapshot. <strong>A snapshot is the configuration of a CloudFront distribution at a specific time</strong>. After creating a snapshot, you can compare two snapshots, edit a snapshot or reuse the snapshot to other CloudFront distributions in your AWS account.</p><h2 id=create-a-snapshot>Create a snapshot</h2><ol><li><p>Navigate to CloudFront Extensions console (you can find the link in the <strong>Outputs</strong> tab of <strong>cloudFrontExtensionsConsole</strong> stack).</p></li><li><p>In the navigation panel, under <strong>Distribution management</strong>, choose <strong>Snapshot</strong>.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/snapshot_list.png alt="Snapshot List Page"></p></li><li><p>Choose the <strong>sample website distribution</strong> (you can find it in Outputs tab of <strong>CFExtSampleWorkshop</strong> stack).</p></li><li><p>Choose <strong>Create Snapshot</strong>.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/create_snapshot.png alt="Create Snapshot Page"></p></li><li><p>In the window that pops up, enter a Snapshot Name (a unique key used to identify this snapshot), and also description.</p></li><li><p>Choose <strong>Create</strong>.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/confirm_snapshot.png alt="Confirm Snapshot Page"></p></li><li><p>Click Refresh button to see the newly created snapshot.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/complete_snapshot.png alt="Snapshot Complete Page"></p></li><li><p>Choose the snapshot to see the detailed CloudFront configuration. The snapshot is in JSON format.
<img src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/images/snapshot_detail.png alt="Snapshot Detail Page"></p></li></ol><h2 id=summary>Summary</h2><p>In this section, you created a snapshot of sample workshop distribution on CloudFront Extensions console. You can also apply/delete the snapshot or update its description.</p><p>Creating a Snapshot will export the current CloudFront Distribution configuration to a S3 bucket. The solution is using a DynamoDB table to maintain the mapping between the CloudFront configuration file and the snapshot name.</p><p>You implemented the second requirement (R2 in below table) by snapshot feature.</p><table><thead><tr><th>ID</th><th>Description</th><th>Category</th><th>Status</th></tr></thead><tbody><tr><td>R1</td><td>It shows different web pages according to the user&rsquo;s browser type, for example, it redirects to page A when the user access it in PC browser, it redirects to page B when the user access it in Android browser, it redirects to page C when the user access it in iPhone browser.</td><td>Functional requirement</td><td>Completed</td></tr><tr><td><strong>R2</strong></td><td><strong>The configuration of CloudFront distribution need to be saved, so that it can rollback if it has issues in production environment.</strong></td><td><strong>Non-functional requirement</strong></td><td><strong>Completed</strong></td></tr><tr><td>R3</td><td>The website needs to have a CName (alternative domain name such as <a href=http://www.amazon.com>www.amazon.com</a>) instead of xxx.cloudfront.net.</td><td>Functional requirement</td><td></td></tr><tr><td>R4</td><td>After the website is launched, you need to monitor the metrics such as request number, back-to-origin bandwidth, top url.</td><td>Non-functional requirement</td><td></td></tr></tbody></table><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/ title="Distribution management"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=https://awslabs.github.io/aws-cloudfront-extensions/workshop/distribution/ssl/readme/ title="Create SSL certificate" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/clipboard.min.js?1681882593></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/perfect-scrollbar.min.js?1681882593></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/perfect-scrollbar.jquery.min.js?1681882593></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/jquery.sticky.js?1681882593></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/featherlight.min.js?1681882593></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/highlight.pack.js?1681882593></script><script>hljs.initHighlightingOnLoad();</script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/modernizr.custom-3.6.0.js?1681882593></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/learn.js?1681882593></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/js/hugo-learn.js?1681882593></script><script src=https://awslabs.github.io/aws-cloudfront-extensions/workshop/mermaid/mermaid.js?1681882593></script><script>mermaid.initialize({startOnLoad:true});</script></body></html>